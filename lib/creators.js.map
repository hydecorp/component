{"version":3,"file":"creators.js","sourceRoot":"","sources":["../src/creators.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAmB,eAAe,EAAE,MAAM,MAAM,CAAC;AACpE,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,gBAAgB,CAAC;AAEzD,MAAM,UAAU,OAAO,CAAC,KAAkB,EAAE,IAAkB;IAC5D,OAAO,UAAU,CAAC,MAAM,CAAC,CAAC,QAAmC,EAAE,EAAE;QAC/D,MAAM,UAAU,GAAG,IAAI,eAAe,EAAE,CAAC;QACzC,MAAM,EAAE,MAAM,EAAE,GAAG,UAAU,CAAC;QAE9B,IAAI,QAAQ,GAAG,IAAI,CAAC;QACpB,KAAK,CAAC,KAAK,EAAE,EAAE,GAAG,IAAI,EAAE,MAAM,EAAE,CAAC;aAC9B,IAAI,CAAC,CAAC,CAAC,EAAE;YACR,QAAQ,GAAG,CAAC,CAAC;YACb,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACjB,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACtB,CAAC,CAAC;aACD,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAEjC,OAAO,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ;YAAE,UAAU,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;IACtD,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAM,UAAU,cAAc,CAAC,GAAmB;IAChD,OAAO,UAAU,CAAC,MAAM,CAAC,CAAC,CAAuC,EAAE,EAAE;QACnE,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACzB,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QACnB,OAAO,GAAG,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;IACrC,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAM,UAAU,KAAK,CAAC,QAA4E,EAAE,CAAS,EAAE,CAAS,EAAE,CAAS,EAAE,CAAU;IAC7I,OAAO,eAAe,EAAE,CAAC,IAAI,CAC3B,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,EACrB,OAAO,CAAC,CAAC,CAAC,EACV,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAClC,CAAA;AACH,CAAC","sourcesContent":["import { Observable, PartialObserver, animationFrames } from \"rxjs\";\nimport { map, takeWhile, endWith } from \"rxjs/operators\";\n\nexport function fetchRx(input: RequestInfo, init?: RequestInit): Observable<Response> {\n  return Observable.create((observer: PartialObserver<Response>) => {\n    const controller = new AbortController();\n    const { signal } = controller;\n\n    let response = null;\n    fetch(input, { ...init, signal })\n      .then(r => {\n        response = r;\n        observer.next(r);\n        observer.complete();\n      })\n      .catch(x => observer.error(x));\n\n    return () => { if (!response) controller.abort(); };\n  });\n}\n\nexport function fromMediaQuery(mql: MediaQueryList): Observable<MediaQueryListEvent> {\n  return Observable.create((o: PartialObserver<MediaQueryListEvent>) => {\n    const l = o.next.bind(o);\n    mql.addListener(l);\n    return () => mql.removeListener(l);\n  });\n}\n\nexport function tween(easingFn: (t: number, b: number, c: number, d: number, s?: number) => number, b: number, c: number, d: number, s?: number): Observable<number> {\n  return animationFrames().pipe(\n    takeWhile(t => t < d),\n    endWith(d),\n    map(t => easingFn(t, b, c, d, s)),\n  )\n}\n"]}